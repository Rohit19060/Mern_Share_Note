(this["webpackJsonpreact-express"]=this["webpackJsonpreact-express"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/like.c172ec2e.svg"},37:function(e,t,a){e.exports=a(65)},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),o=a.n(l),c=a(4),s=a(5),i=a(7),u=a(6),m=a(1),d=a(2),f=a(11),p=a.n(f),h=function(e){return p.a.post("/api/login",e)},E=function(e){return p.a.post("/api/register",e)},b=function(e){return p.a.post("/api/posts",e)},v=function(e){return p.a.post("/api/follow",e)},g=function(e){return p.a.post("/api/unfollow",e)},w=function(){return p.a.get("/api/posts")},N=function(e){return p.a.get("/api/user/".concat(e))},y=function(e){return p.a.get("/api/posts/".concat(e))},k=function(e){return p.a.delete("/api/delpost?time="+e)},j=function(e){return p.a.put("/api/likes",e)},O=function(e){return r.a.createElement("div",null,e.children)},x=a(15),C=a(14),S=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){return n.setState(Object(x.a)({},e.target.name,e.target.value))},n.formHandler=function(e){e.preventDefault(),n.props.setUser(n.state.username,n.state.password),document.getElementById("loginform").reset()},n.state={username:"",password:""},n.formHandler=n.formHandler.bind(Object(C.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-white rounded navigation"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("button",{className:"navbar-toggler bg-primary text-white",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse"},r.a.createElement("span",{className:"navbar-toggler-icon"})," Share Note")),r.a.createElement("div",{className:"collapse navbar-collapse text-center align-content-center",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/",className:"links"},"Home")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/users",className:"links"},"Users")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/about",className:"links"},"About")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/contact",className:"links"},"Contact"))),this.props.username?r.a.createElement("button",{onClick:this.props.logout,className:"btn btn-outline-danger"},"Logout"):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.formHandler,className:"form-check-inline",id:"loginform"},r.a.createElement("input",{type:"text",name:"username",className:"form-control",onChange:this.onChange,placeholder:"Username",required:!0}),r.a.createElement("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",onChange:this.onChange,required:!0}),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-outline-primary"})),r.a.createElement(m.b,{to:"/register"},r.a.createElement("button",{className:"btn btn-outline-primary"},"Register"))))))}}]),a}(n.Component),U=a(35),A=a(22),H=a.n(A),P=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={likes:e.props.post.likes,users:[]},e.updatelike=function(){var t={timestamp:e.props.post.timestamp};j(t).then((function(t){e.setState({likes:t.data})})).catch((function(e){return console.error(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/userforpost").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){for(var e=this.props.post,t=e.user,a=e.timestamp,n=e.content,l=e.avatar,o=n.split(" "),c=[],s=0;s<o.length;s++){var i="";if(this.state.users.includes(o[s].substring(1))){var u=o[s].charAt(1).toUpperCase()+o[s].slice(2);i="#"===o[s].charAt(0)?r.a.createElement(m.b,{to:"/mentions/".concat(u)},o[s]):"@"===o[s].charAt(0)?r.a.createElement(m.b,{to:"/user/".concat(u)},o[s]):o[s]}else i=o[s];c.push(i),c.push(" ")}var d=this.props.x,f=this.state.likes;return r.a.createElement("div",{className:"p-3 img-thumbnail mt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1 text-center"},r.a.createElement("img",{src:l,width:"35px",alt:"avatar"})),r.a.createElement("div",{className:"col-11"},r.a.createElement(m.b,{to:"/user/".concat(t)},"@",t),r.a.createElement("span",null," ",a),r.a.createElement("div",null,c),d&&d===t?r.a.createElement("button",{onClick:this.props.delete.bind(this,a),className:"btn btn-outline-danger float-right"},"Delete"):"",d?r.a.createElement("button",{className:"btn btn-outline-light float-right text-black-50",onClick:this.updatelike},r.a.createElement("img",{src:H.a,alt:"like"})," ",f):r.a.createElement("button",{className:"btn btn-outline-light float-right text-black-50",disabled:!0},r.a.createElement("img",{src:H.a,alt:"like"})," ",f))))}}]),a}(n.Component),D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={content:"",posts:null,follow:null},e.onChange=function(t){return e.setState(Object(x.a)({},t.target.name,t.target.value))},e.formHandler=function(t){t.preventDefault();var a={content:e.state.content,user:e.props.username,avatar:e.props.avatar};b(a).then((function(t){e.setState({posts:[t.data].concat(Object(U.a)(e.state.posts))}),e.setState({content:""}),document.getElementById("postform").reset()})).catch((function(e){return console.error(e)}))},e.delete=function(t){k(t).then((function(t){e.setState({posts:t.data})})).catch((function(e){return console.error(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.username;t?N(t).then((function(t){e.setState({follow:t.data.follows}),w().then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})):w().then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.follow,n=t.posts,l=this.props,o=l.username,c=l.follows,s=l.avatar,i=null==a?c:a;return r.a.createElement("div",{className:"row"},o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"panel panel-default newmd text-center"},r.a.createElement("div",{className:"panel-heading h3"},"Welcome ",o),r.a.createElement("div",{className:"panel-body"},r.a.createElement("img",{src:s,alt:"avatar",width:"200px",className:"text-center"}),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/user/".concat(o)},"User Page"),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/mentions/".concat(o)},"Mention Page"),r.a.createElement("br",null),r.a.createElement("br",null),i.length>0?r.a.createElement("p",null," You are Following: "):r.a.createElement("p",null," You are not Following anyone yet"),r.a.createElement("ul",null,r.a.createElement("ul",{className:"list-unstyled "},i.map((function(e){return r.a.createElement(m.b,{to:"/user/".concat(e),key:e},r.a.createElement("li",{className:"text-success"},e))}))))))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("form",{onSubmit:this.formHandler,id:"postform"},r.a.createElement("textarea",{name:"content",className:"form-control",rows:"3",placeholder:"What's on your mind?",onChange:this.onChange,required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-outline-primary",name:"submit",value:"Submit"})),n?n.filter((function(e){return i.includes(e.user)||e.user===o})).map((function(t){return r.a.createElement(P,{delete:e.delete,x:o,key:t._id,post:t})})):"")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h2",{className:"text-center"},r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83e\udd29"),"Welcome Happy to See you here",r.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83e\udd29")),n?n.map((function(t){return r.a.createElement(P,{delete:e.delete,x:o,key:t._id,post:t})})):"")))}}]),a}(n.Component),I=function(){return r.a.createElement("div",{className:"container p-5"},r.a.createElement("h2",null,"About Page"),r.a.createElement("p",null,"This application is meant for individual project"))},M=function(){return r.a.createElement("div",{className:"container p-5"},r.a.createElement("h2",null,"Contact Page"),r.a.createElement("a",{href:"mailto:kingtechnologies2017@gmail.com"},"Say Hi"))},F=a(36),q=function(e){var t=e.id,a=e.avatar;return r.a.createElement("div",{className:"col-xs-6 col-md-4 mb-4"},r.a.createElement(m.b,{to:"/user/".concat(t)},r.a.createElement("img",{src:a,alt:t}),r.a.createElement("h4",{className:"m-2"},"@",t)))};var _=function(){var e=Object(n.useState)([]),t=Object(F.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){p.a.get("/api/users").then((function(e){l(e.data.map((function(e){return e})))})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{className:"row text-center"},a.map((function(e){return r.a.createElement(q,{key:e._id,id:e.id,avatar:e.avatar})})))},B=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={posts:"",Userinfo:"",follow:""},e.delete=function(t){k(t).then((function(t){var a=window.location.href.substring(window.location.href.lastIndexOf("/")+1);y(a).then((function(t){e.setState({posts:t.data.map((function(e){return e}))})})).catch((function(e){console.log(e)}))})).catch((function(e){return console.error(e)}))},e.follow=function(t,a){v({token:t,follow:a}).then((function(t){e.setState({follow:t.data})})).catch((function(e){return console.error(e)}))},e.unfollow=function(t,a){g({token:t,follow:a}).then((function(t){e.setState({follow:t.data})})).catch((function(e){return console.error(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.href.substring(window.location.href.lastIndexOf("/")+1);y(t).then((function(t){e.setState({posts:t.data.map((function(e){return e}))})})).catch((function(e){console.log(e)})),N(t).then((function(t){e.setState({Userinfo:t.data})})).catch((function(e){console.log(e)})),this.props.username&&N(this.props.username).then((function(t){e.setState({follow:t.data.follows})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Userinfo,n=t.posts,l=t.follow,o=this.props,c=o.username,s=o.token;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"userpanel panel panel-default text-center newmd"},r.a.createElement("div",{className:"panel-heading"},"User Page of ",r.a.createElement("h3",null,a.username)),r.a.createElement("div",{className:"panel-body"},r.a.createElement("img",{src:a.avatar,alt:"avatar",className:"img-fluid"}),c&&c!==a.username?l.includes(a.username)?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:this.unfollow.bind(this,s,a.username)},"Unfollow")):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-outline-success",onClick:this.follow.bind(this,s,a.username)},"Follow")):"",r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-default"},r.a.createElement(m.b,{to:"/mentions/".concat(a.username)},"Mention Page"))))),r.a.createElement("div",{className:"col-md-1"}),r.a.createElement("div",{className:"col-md-6"},n?n.map((function(t){return r.a.createElement(P,{delete:e.delete,x:c,key:t._id,post:t})})):""))}}]),a}(n.Component),L=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){return n.setState(Object(x.a)({},e.target.name,e.target.value))},n.formHandler=function(e){e.preventDefault();var t=n.state,a=t.id,r=t.password,l=t.avatar;n.props.Adduser(a,r,l),document.getElementById("registerform").reset()},n.state={id:"",password:"",avatar:""},n.formHandler=n.formHandler.bind(Object(C.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.formHandler,className:"container p-5 text-center",id:"registerform"},r.a.createElement("input",{type:"text",name:"id",className:"form-control",onChange:this.onChange,placeholder:"Id",required:!0}),r.a.createElement("br",null),r.a.createElement("input",{className:"form-control",type:"text",name:"avatar",placeholder:"Avatar Link",onChange:this.onChange,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",onChange:this.onChange,required:!0,autoComplete:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-primary"}))}}]),a}(n.Component),R=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={posts:"",Userinfo:"",follow:""},e.delete=function(t){k(t).then((function(t){w().then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log(e)}))})).catch((function(e){return console.error(e)}))},e.follow=function(t,a){v({user:t,follow:a}).then((function(t){e.setState({follow:t.data})})).catch((function(e){return console.error(e)}))},e.unfollow=function(t,a){g({user:t,follow:a}).then((function(t){e.setState({follow:t.data})})).catch((function(e){return console.error(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.href.substring(window.location.href.lastIndexOf("/")+1);w().then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log(e)})),N(t).then((function(t){e.setState({Userinfo:t.data})})).catch((function(e){console.log(e)})),this.props.username&&N(this.props.username).then((function(t){e.setState({follow:t.data.follows})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Userinfo,n=t.posts,l=t.follow,o=this.props.username;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"userpanel panel panel-default text-center newmd"},r.a.createElement("div",{className:"panel-heading"},"Mention Page of ",r.a.createElement("h3",null,a.username)),r.a.createElement("div",{className:"panel-body"},r.a.createElement("img",{src:a.avatar,alt:"avatar",className:"img-fluid"}),o&&o!==a.username?l.includes(a.username)?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:this.unfollow.bind(this,o,a.username)},"Unfollow")):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-outline-success",onClick:this.follow.bind(this,o,a.username)},"Follow")):"",r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-default"},r.a.createElement(m.b,{to:"/user/".concat(a.username)},"User Page"))))),r.a.createElement("div",{className:"col-md-1"}),r.a.createElement("div",{className:"col-md-6"},n?n.filter((function(e){return e.content.includes("#".concat(a.username))})).map((function(t){return r.a.createElement(P,{delete:e.delete,x:o,key:t._id,post:t})})):""))}}]),a}(n.Component);var W=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"No Match"))},J=(a(64),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={token:null,username:null,avatar:null,follows:null},e.setUser=function(t,a){h({username:t,password:a}).then((function(t){e.setState({token:t.data.token,username:t.data.username,avatar:t.data.avatar,follows:t.data.follows})})).catch((function(e){return console.error(e)}))},e.Adduser=function(e,t,a){E({id:e,password:t,avatar:a}).then((function(e){alert(e.data+" Registered Successfully")})).catch((function(e){return console.error(e)}))},e.logout=function(){e.setState({username:null,avatar:null,follows:null,token:null})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.follows,n=e.avatar,l=e.token;return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(S,{username:t,setUser:this.setUser,logout:this.logout}),r.a.createElement("div",{style:{height:"200px"}}),r.a.createElement(O,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(D,{username:t,follows:a,avatar:n})),r.a.createElement(d.a,{path:"/users"},r.a.createElement(_,null)),r.a.createElement(d.a,{path:"/about"},r.a.createElement(I,null)),r.a.createElement(d.a,{path:"/contact"},r.a.createElement(M,null)),r.a.createElement(d.a,{path:"/user/:id"},r.a.createElement(B,{username:t,follows:a,token:l})),r.a.createElement(d.a,{path:"/register"},r.a.createElement(L,{Adduser:this.Adduser})),r.a.createElement(d.a,{path:"/mentions/:id"},r.a.createElement(R,{username:t,follows:a,token:l})),r.a.createElement(d.a,{component:W})))))}}]),a}(n.Component));o.a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.27b20148.chunk.js.map